{#
/**
 * @file
 * Default theme implementation to display a DFP short tag.
 *
 * Available variables:
 * - google_tag_services_url:
 * - async_rendering
 *
 * @see dfp_page_attachments()
 *
 * @ingroup themeable
 */
#}
{% if false %}
<!-- This is designed to not be printed because of how dfp_page_attachments()
works. But because of syntax highlighting and sanity we keep this. -->
<script type="text/javascript">
{% endif %}
// Initialize the google variables.
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
// Add a place to store the slot name variable.
googletag.slots = googletag.slots || {};
(function() {
  var useSSL = "https:" == document.location.protocol;
  var src = (useSSL ? 'https:' : 'http:') + '//{{ google_tag_services_url }}';
  document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
})();
</script>
<script type="text/javascript">
googletag.cmd.push(function() {
  {% if async_rendering %}
    googletag.pubads().enableAsyncRendering();
  {% else %}
    googletag.pubads().enableSyncRendering();
  {% endif %}
  {% if single_request %}
    googletag.pubads().enableSingleRequest();
  {% endif %}
  {% if collapse_empty_divs == 1 %}
    googletag.pubads().collapseEmptyDivs();
  {% elseif collapse_empty_divs == 2 %}
    googletag.pubads().collapseEmptyDivs(true);
  {% endif %}
  {% if disable_init_load %}
    googletag.pubads().disableInitialLoad();
  {% endif %}
  {% for target in targets %}
    googletag.pubads().setTargeting('{{ target.target }}', '{{ target.value }}');
  {% endfor %}
});
googletag.enableServices();
{% if false %}
// This is designed to not be printed because of how dfp_page_attachments()
// works.
</script>
{% endif %}